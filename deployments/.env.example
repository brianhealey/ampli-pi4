# AmpliPi Docker Environment Variables
# Copy to .env and customize for your setup

# ============================================================================
# Container Images
# ============================================================================
# Override these for custom builds or specific versions
AMPLIPI_IMAGE=ghcr.io/brianhealey/amplipi:latest
DISPLAY_IMAGE=ghcr.io/brianhealey/amplipi-display:latest
AIRPLAY_IMAGE=ghcr.io/brianhealey/amplipi-airplay:latest
SPOTIFY_IMAGE=ghcr.io/brianhealey/amplipi-spotify:latest
PANDORA_IMAGE=ghcr.io/brianhealey/amplipi-pandora:latest
LMS_IMAGE=ghcr.io/brianhealey/amplipi-lms:latest
DLNA_IMAGE=ghcr.io/brianhealey/amplipi-dlna:latest

# ============================================================================
# Application Configuration
# ============================================================================
# Logging level: debug, info, warn, error
LOG_LEVEL=info

# Hardware mock mode (set to true for testing without hardware)
HARDWARE_MOCK=false

# Display type: tft or eink
DISPLAY_TYPE=tft

# Display refresh interval in milliseconds
REFRESH_INTERVAL=1000

# ============================================================================
# Macvlan Network Configuration
# ============================================================================
# IMPORTANT: Adjust these settings to match your network configuration
# Ensure the IP range is outside your router's DHCP range

# Physical network interface (e.g., eth0, wlan0)
MACVLAN_PARENT=eth0

# Network subnet (should match your router's network)
MACVLAN_SUBNET=192.168.1.0/24

# Gateway IP (usually your router's IP)
MACVLAN_GATEWAY=192.168.1.1

# IP range for AirPlay containers (CIDR notation)
# /30 allocates 4 IPs (.100-.103)
# Make sure this range is reserved/excluded from DHCP
MACVLAN_IP_RANGE=192.168.1.100/30

# ============================================================================
# AirPlay2 IP Addresses
# ============================================================================
# Static IP addresses for each AirPlay2 instance
# Must be within MACVLAN_IP_RANGE and outside DHCP pool
AIRPLAY1_IP=192.168.1.100
AIRPLAY2_IP=192.168.1.101
AIRPLAY3_IP=192.168.1.102
AIRPLAY4_IP=192.168.1.103

# ============================================================================
# Streaming Service Configuration
# ============================================================================
# Spotify Connect settings (if using streaming profile)
SPOTIFY_BITRATE=320  # Options: 96, 160, 320

# Spotify device name
SPOTIFY_NAME=AmpliPi

# ============================================================================
# Docker Compose Profiles
# ============================================================================
# Enable optional services by uncommenting the line below
# Available profiles: streaming
# COMPOSE_PROFILES=streaming

# ============================================================================
# Advanced Configuration
# ============================================================================
# Configuration directory mount point
CONFIG_DIR=/config

# API URL for display driver
API_URL=http://localhost/api

# ============================================================================
# Notes
# ============================================================================
# 1. Router Configuration Required:
#    - Reserve static IPs .100-.103 (or your chosen range)
#    - Exclude these IPs from DHCP pool
#    - Example: Set DHCP range to .10-.99, use .100+ for static
#
# 2. Network Interface:
#    - Run 'ip link show' to find your interface name
#    - Common options: eth0 (wired), wlan0 (wireless)
#
# 3. Testing Macvlan:
#    - From another device: ping 192.168.1.100
#    - All 4 AirPlay IPs should be reachable
#    - Host cannot ping macvlan IPs (kernel limitation)
#
# 4. Image Versions:
#    - Use 'latest' for automatic updates
#    - Use 'v1.0.0' for pinned versions
#    - Use 'main' for development builds
