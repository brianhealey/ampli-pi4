import{d as qe,b as g,a as s,f as c,s as k,e as Ge,r as Be,t as He}from"../chunks/C9jWRzeA.js";import{p as Je,a as q,b as Ke,i as be,c as Oe,s as v,e as o,f as d,r as a,g as e,h,u as Qe,j as Ve}from"../chunks/BUyZVbJa.js";import{i as p}from"../chunks/CajUpCd9.js";import{e as re,a as ge,r as oe,i as pe,d as X,s as fe,b as We}from"../chunks/GxhOYdm0.js";import{b as ie}from"../chunks/UnYSJ0yE.js";import{b as Xe}from"../chunks/DZldWtOb.js";var Ye=c('<span class="text-xs text-gray-500 dark:text-gray-400"> </span>'),Ze=c('<button class="rounded p-1 text-blue-600 hover:bg-blue-50 dark:text-blue-400 dark:hover:bg-blue-900/20" title="Rename">âœï¸</button>'),et=c('<button class="rounded p-1 text-blue-600 hover:bg-blue-50 dark:text-blue-400 dark:hover:bg-blue-900/20" title="Edit">âœï¸</button> <button class="rounded p-1 text-red-600 hover:bg-red-50 dark:text-red-400 dark:hover:bg-red-900/20" title="Delete">ğŸ—‘ï¸</button>',1),tt=c('<img class="h-20 w-20 flex-shrink-0 rounded object-cover"/>'),at=c('<div class="mb-1 flex items-center justify-between"><span class="text-xs font-medium text-gray-700 dark:text-gray-300">Status</span> <span> </span></div>'),rt=c('<p class="mb-1 text-sm font-medium text-gray-900 dark:text-white"> </p>'),ot=c('<p class="text-xs text-gray-600 dark:text-gray-400"> <!></p>'),it=c('<p class="text-xs text-gray-600 dark:text-gray-400"> </p>'),dt=c('<span class="text-yellow-500"> </span>'),lt=c('<div class="mt-1 flex items-center gap-0.5 text-sm"></div>'),nt=c('<div class="mb-3 rounded-lg bg-gray-50 p-3 dark:bg-gray-700/50"><div class="flex gap-3"><!> <div class="flex-1"><!> <!> <!> <!> <!></div></div></div>'),st=c('<button class="rounded-lg bg-gray-100 p-3 hover:bg-gray-200 dark:bg-gray-700 dark:hover:bg-gray-600" title="Pause">â¸ï¸</button>'),vt=c('<button class="rounded-lg bg-blue-100 p-3 hover:bg-blue-200 dark:bg-blue-900/20 dark:hover:bg-blue-900/30" title="Play">â–¶ï¸</button>'),ut=c('<div class="flex items-center justify-center gap-2"><button class="rounded-lg p-2 hover:bg-gray-100 dark:hover:bg-gray-700" title="Previous">â®ï¸</button> <!> <button class="rounded-lg p-2 hover:bg-gray-100 dark:hover:bg-gray-700" title="Next">â­ï¸</button> <button class="rounded-lg p-2 hover:bg-gray-100 dark:hover:bg-gray-700" title="Stop">â¹ï¸</button></div>'),ct=c('<div class="mt-2 rounded bg-yellow-50 px-2 py-1 text-center text-xs text-yellow-700 dark:bg-yellow-900/20 dark:text-yellow-400">Disabled</div>'),bt=c('<div class="rounded-lg border border-gray-200 bg-white p-4 shadow-sm dark:border-gray-700 dark:bg-gray-800"><div class="mb-3 flex items-start justify-between"><div class="flex items-center gap-2"><span class="text-2xl"> </span> <div><h3 class="font-semibold text-gray-900 dark:text-white"> <!></h3> <p class="text-xs text-gray-600 dark:text-gray-400"> </p></div></div> <div class="flex gap-1"><!></div></div> <!> <!> <!></div>'),gt=c('<div class="rounded-lg border-2 border-dashed border-gray-300 p-12 text-center dark:border-gray-700"><p class="text-gray-500 dark:text-gray-400">No streams available</p></div>'),pt=c("<option> </option>"),ft=c('<div class="mb-4"><label for="stream-url" class="mb-1 block text-sm font-medium text-gray-700 dark:text-gray-300">Stream URL</label> <input id="stream-url" type="url" placeholder="http://example.com/stream.mp3" class="w-full rounded-lg border border-gray-300 px-3 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white"/></div>'),xt=c('<div class="fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4" role="dialog" aria-modal="true"><div class="w-full max-w-md rounded-lg bg-white p-6 shadow-xl dark:bg-gray-800" role="document"><h3 class="mb-4 text-lg font-semibold text-gray-900 dark:text-white">Create Stream</h3> <div class="mb-4"><label for="stream-name" class="mb-1 block text-sm font-medium text-gray-700 dark:text-gray-300">Stream Name</label> <input id="stream-name" type="text" placeholder="e.g., My Spotify" class="w-full rounded-lg border border-gray-300 px-3 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white"/></div> <div class="mb-4"><label for="stream-type" class="mb-2 block text-sm font-medium text-gray-700 dark:text-gray-300">Stream Type</label> <select id="stream-type" class="w-full rounded-lg border border-gray-300 px-3 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white"></select></div> <!> <div class="flex gap-2"><button class="flex-1 rounded-lg border border-gray-300 px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 dark:border-gray-600 dark:text-gray-300 dark:hover:bg-gray-700">Cancel</button> <button class="flex-1 rounded-lg bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700 disabled:opacity-50 dark:bg-blue-500 dark:hover:bg-blue-600">Create</button></div></div></div>'),yt=c('<p class="mb-4 text-sm text-gray-600 dark:text-gray-400"> </p>'),mt=c('<div class="fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4" role="dialog" aria-modal="true"><div class="w-full max-w-md rounded-lg bg-white p-6 shadow-xl dark:bg-gray-800" role="document"><h3 class="mb-4 text-lg font-semibold text-gray-900 dark:text-white"> </h3> <div class="mb-4"><label for="edit-stream-name" class="mb-1 block text-sm font-medium text-gray-700 dark:text-gray-300">Stream Name</label> <input id="edit-stream-name" type="text" placeholder="e.g., Front Porch RCA" class="w-full rounded-lg border border-gray-300 px-3 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white"/></div> <!> <div class="flex gap-2"><button class="flex-1 rounded-lg border border-gray-300 px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 dark:border-gray-600 dark:text-gray-300 dark:hover:bg-gray-700">Cancel</button> <button class="flex-1 rounded-lg bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700 disabled:opacity-50 dark:bg-blue-500 dark:hover:bg-blue-600">Save</button></div></div></div>'),_t=c('<div class="p-4 md:p-6"><div class="mb-6 flex items-center justify-between"><div><h2 class="text-2xl font-bold text-gray-900 dark:text-white">Streams</h2> <p class="text-sm text-gray-600 dark:text-gray-400">Manage audio streaming services</p></div> <button class="rounded-lg bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600">+ Create Stream</button></div> <div class="grid gap-4 md:grid-cols-2 lg:grid-cols-3"></div> <!></div> <!> <!>',1);function jt(xe,ye){Je(ye,!0);let z=q(!1),$=q(""),A=q("spotify"),G=q(Ke({})),y=q(null),C=q("");const me=[{value:"spotify",label:"Spotify Connect",icon:"ğŸµ"},{value:"airplay",label:"AirPlay",icon:"ğŸ“¡"},{value:"pandora",label:"Pandora",icon:"ğŸ™ï¸"},{value:"internetradio",label:"Internet Radio",icon:"ğŸ“»"},{value:"lms",label:"Logitech Media Server",icon:"ğŸ”Š"},{value:"dlna",label:"DLNA/UPnP",icon:"ğŸŒ"}];async function _e(){if(e($).trim())try{const i={...e(G)};if(e(A)==="internetradio"&&!i.url){alert("URL is required for Internet Radio");return}await X.createStream({name:e($),type:e(A),config:i}),v(z,!1),v($,""),v(A,"spotify"),v(G,{},!0)}catch(i){console.error("Failed to create stream:",i),alert("Failed to create stream: "+i.message)}}async function B(i,t){try{await X.execStreamCommand(i,t)}catch(m){console.error("Failed to execute command:",m)}}async function ke(i){if(confirm("Delete this stream?"))try{await X.deleteStream(i)}catch(t){console.error("Failed to delete stream:",t)}}function de(i){v(y,i,!0),v(C,i.name,!0)}async function he(){if(!(!e(y)||!e(C).trim()))try{await X.updateStream(e(y).id,{name:e(C)}),v(y,null),v(C,"")}catch(i){console.error("Failed to update stream:",i),alert("Failed to update stream: "+i.message)}}function we(i){return{spotify:"ğŸµ",airplay:"ğŸ“¡",pandora:"ğŸ™ï¸",internetradio:"ğŸ“»",lms:"ğŸ”Š",dlna:"ğŸŒ",bluetooth:"ğŸ“±",rca:"ğŸ”Œ",aux:"ğŸ§",fm_radio:"ğŸ“»",file_player:"ğŸ“"}[i]||"ğŸµ"}function Se(i){switch(i){case"playing":return"text-green-600 dark:text-green-400";case"paused":return"text-yellow-600 dark:text-yellow-400";case"stopped":return"text-gray-600 dark:text-gray-400";default:return"text-gray-500 dark:text-gray-500"}}var le=_t(),Y=be(le),Z=d(Y),Ce=o(d(Z),2);a(Z);var ee=o(Z,2);re(ee,21,()=>ge.streams,i=>i.id,(i,t)=>{var m=bt(),w=d(m),T=d(w),S=d(T),j=d(S,!0);a(S);var F=o(S,2),D=d(F),N=d(D),E=o(N);{var L=n=>{var b=Ye(),P=d(b);a(b),h(()=>k(P,`(Source ${e(t).config.index+1})`)),s(n,b)};p(E,n=>{e(t).type==="rca"&&e(t).config?.index!==void 0&&n(L)})}a(D);var r=o(D,2),f=d(r,!0);a(r),a(F),a(T);var _=o(T,2),H=d(_);{var O=n=>{var b=Ze();g("click",b,()=>de(e(t))),s(n,b)},Ne=n=>{var b=et(),P=be(b),U=o(P,2);g("click",P,()=>de(e(t))),g("click",U,()=>ke(e(t).id)),s(n,b)};p(H,n=>{e(t).type==="rca"||e(t).type==="aux"?n(O):n(Ne,!1)})}a(_),a(w);var se=o(w,2);{var $e=n=>{var b=nt(),P=d(b),U=d(P);{var te=u=>{var l=tt();h(()=>{fe(l,"src",e(t).info.img_url),fe(l,"alt",`${(e(t).info.track||"Album")??""} art`)}),Ge("error",l,x=>x.currentTarget.style.display="none"),Be(l),s(u,l)};p(U,u=>{e(t).info.img_url&&u(te)})}var Q=o(U,2),J=d(Q);{var ae=u=>{var l=at(),x=o(d(l),2),V=d(x,!0);a(x),a(l),h(K=>{We(x,1,`text-xs ${K??""}`),k(V,e(t).info.state)},[()=>Se(e(t).info.state)]),s(u,l)};p(J,u=>{e(t).info.state&&u(ae)})}var R=o(J,2);{var I=u=>{var l=rt(),x=d(l,!0);a(l),h(()=>k(x,e(t).info.track)),s(u,l)};p(R,u=>{e(t).info.track&&u(I)})}var ue=o(R,2);{var Ue=u=>{var l=ot(),x=d(l),V=o(x);{var K=M=>{var W=He();h(()=>k(W,`â€¢ ${e(t).info.album??""}`)),s(M,W)};p(V,M=>{e(t).info.album&&M(K)})}a(l),h(()=>k(x,`${e(t).info.artist??""} `)),s(u,l)};p(ue,u=>{e(t).info.artist&&u(Ue)})}var ce=o(ue,2);{var Ie=u=>{var l=it(),x=d(l,!0);a(l),h(()=>k(x,e(t).info.station)),s(u,l)};p(ce,u=>{e(t).info.station&&u(Ie)})}var Me=o(ce,2);{var ze=u=>{var l=lt();re(l,20,()=>Array(5),pe,(x,V,K)=>{var M=dt(),W=d(M,!0);a(M),h(()=>k(W,K<e(t).info.rating?"â˜…":"â˜†")),s(x,M)}),a(l),s(u,l)};p(Me,u=>{e(t).info.rating!==void 0&&e(t).info.rating!==null&&u(ze)})}a(Q),a(P),a(b),s(n,b)};p(se,n=>{e(t).info&&n($e)})}var ve=o(se,2);{var Ae=n=>{var b=ut(),P=d(b),U=o(P,2);{var te=R=>{var I=st();g("click",I,()=>B(e(t).id,"pause")),s(R,I)},Q=R=>{var I=vt();g("click",I,()=>B(e(t).id,"play")),s(R,I)};p(U,R=>{e(t).info.state==="playing"?R(te):R(Q,!1)})}var J=o(U,2),ae=o(J,2);a(b),g("click",P,()=>B(e(t).id,"prev")),g("click",J,()=>B(e(t).id,"next")),g("click",ae,()=>B(e(t).id,"stop")),s(n,b)},De=Qe(()=>e(t).info?.state&&["playing","paused"].includes(e(t).info.state));p(ve,n=>{e(De)&&n(Ae)})}var Ee=o(ve,2);{var Le=n=>{var b=ct();s(n,b)};p(Ee,n=>{e(t).disabled&&n(Le)})}a(m),h(n=>{k(j,n),k(N,`${e(t).name??""} `),k(f,e(t).type)},[()=>we(e(t).type)]),s(i,m)}),a(ee);var Pe=o(ee,2);{var je=i=>{var t=gt();s(i,t)};p(Pe,i=>{ge.streams.length===0&&i(je)})}a(Y);var ne=o(Y,2);{var Re=i=>{var t=xt(),m=d(t),w=o(d(m),2),T=o(d(w),2);oe(T),a(w);var S=o(w,2),j=o(d(S),2);re(j,21,()=>me,pe,(r,f)=>{var _=pt(),H=d(_);a(_);var O={};h(()=>{k(H,`${e(f).icon??""} ${e(f).label??""}`),O!==(O=e(f).value)&&(_.value=(_.__value=e(f).value)??"")}),s(r,_)}),a(j),a(S);var F=o(S,2);{var D=r=>{var f=ft(),_=o(d(f),2);oe(_),a(f),ie(_,()=>e(G).url,H=>e(G).url=H),s(r,f)};p(F,r=>{e(A)==="internetradio"&&r(D)})}var N=o(F,2),E=d(N),L=o(E,2);a(N),a(m),a(t),h(r=>L.disabled=r,[()=>!e($).trim()]),g("click",t,r=>{r.target===r.currentTarget&&v(z,!1)}),g("keydown",t,r=>{r.key==="Escape"&&v(z,!1)}),g("click",m,r=>r.stopPropagation()),ie(T,()=>e($),r=>v($,r)),Xe(j,()=>e(A),r=>v(A,r)),g("click",E,()=>{v(z,!1),v($,""),v(A,"spotify"),v(G,{},!0)}),g("click",L,_e),s(i,t)};p(ne,i=>{e(z)&&i(Re)})}var Te=o(ne,2);{var Fe=i=>{var t=mt(),m=d(t),w=d(m),T=d(w);a(w);var S=o(w,2),j=o(d(S),2);oe(j),Ve(j),a(S);var F=o(S,2);{var D=r=>{var f=yt(),_=d(f);a(f),h(()=>k(_,`This RCA input is connected to Source ${e(y).config?.index!==void 0?e(y).config.index+1:"Unknown"}.
					Give it a descriptive name like "CD Player" or "Turntable".`)),s(r,f)};p(F,r=>{e(y).type==="rca"&&r(D)})}var N=o(F,2),E=d(N),L=o(E,2);a(N),a(m),a(t),h(r=>{k(T,`${e(y).type==="rca"||e(y).type==="aux"?"Rename":"Edit"} Stream`),L.disabled=r},[()=>!e(C).trim()]),g("click",t,r=>{r.target===r.currentTarget&&(v(y,null),v(C,""))}),g("keydown",t,r=>{r.key==="Escape"&&(v(y,null),v(C,""))}),g("click",m,r=>r.stopPropagation()),ie(j,()=>e(C),r=>v(C,r)),g("click",E,()=>{v(y,null),v(C,"")}),g("click",L,he),s(i,t)};p(Te,i=>{e(y)&&i(Fe)})}g("click",Ce,()=>v(z,!0)),s(xe,le),Oe()}qe(["click","keydown"]);export{jt as component};
